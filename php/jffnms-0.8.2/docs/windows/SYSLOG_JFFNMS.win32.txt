Syslog daemon for JFFNMS on Windows 2000/XP
===========================================

Note: This will not work for Windows 95/98/Me, it's only for Windows 2000/XP and maybe NT 4.0

Installation and configuration:
-------------------------------

Follow the instructions in INSTALL.win32.txt to setup a working JFFNMS.

Install ODBC-driver for MYSQL:
	Download ODBC-driver from: http://dev.mysql.com/downloads/connector/odbc/3.51.html
	Scroll down until you find Windows downloads
	Get the latest MSI-package
	Click on Next until Finish.
	
Create ODBC connection:
	Use the ODBC Data Source Administrator to create a data source for MySQL.
	1) Click Start, point to Settings, and then click Control Panel. 
	2) On computers running Microsoft Windows 2000 or newer, double-click Administrative Tools,
 	   and then double-click Data Sources (ODBC). On computers running older versions of 
	   Windows, double-click 32-bit ODBC or ODBC.
	3) Add a System DSN
	4) Select MySQL ODBC 3.51 Driver, and then click Finish. 
	   The MySQL ODBC 3.51 Driver - DSN Configuration dialog box appears.
	5) Data Source Name: JFFNMS
	   Server: localhost
	   User: jffnms
	   Password: jffnms
	   Database: jffnms
	6) Click Test to test the connection
	7) Click Ok to save the connection

Install SysLog2ODBC:
	Download from: http://sourceforge.net/projects/syslog2odbc/
	Get the ZIP-file
	Copy the syslog2odbc.exe and .ini file from inside the archive to c:\jffnms 
	Install the service with syslog2odbc.exe -i
	
	Change the ODBC-section in syslog2odbc.ini to:
		[ODBC]
		ConnectionString=DSN=JFFNMS
		SQLStatement=INSERT INTO syslog ( host, message, date, date_logged ) VALUES ( ?, ?, NOW(), NOW() )
		Param1=SENDERDEVICE_IP
		Param2=RAWMSG
		WaitOnError=15
		MaxRetryCount=4

	Start the syslog2odbc service: NET START syslog2odbc
	
	Point your devices that generate syslog-messages to IP.OF.YOUR.BOX


==============================================================================	

If you would like to send Windows eventlog messages from a Windows NT4, 2000,
XP or 2003 host to your JFFNMS-box, install NTsyslog on the host:

Install NTsyslog:
	Download from: http://sourceforge.net/projects/ntsyslog/
	Get the ZIP-file
	Unzip it to c:\ on the box you wish to send eventlog messages from.
	Install the service with ntsyslog -install
	
	You can configure NTsyslog with NTSyslogCtrl.exe, but when you need to 
	configure lots of machines use a .REG file (see below).
	After configuration start the NTsyslog service with NET START ntsyslog
	
	<Begin .reg file for NTsyslog>
		REGEDIT4

		[HKEY_LOCAL_MACHINE\SOFTWARE\SaberNet]
		"Syslog"="IP.OF.YOUR.JFFNMS-BOX"

		[HKEY_LOCAL_MACHINE\SOFTWARE\SaberNet\Syslog]

		[HKEY_LOCAL_MACHINE\SOFTWARE\SaberNet\Syslog\Application]
		"Information"=dword:00000000
		"Information Priority"=dword:0000000e
		"Warning"=dword:00000001
		"Warning Priority"=dword:0000000c
		"Error"=dword:00000001
		"Error Priority"=dword:0000000b
		"Audit Success"=dword:00000000
		"Audit Success Priority"=dword:0000000d
		"Audit Failure"=dword:00000001
		"Audit Failure Priority"=dword:00000009

		[HKEY_LOCAL_MACHINE\SOFTWARE\SaberNet\Syslog\Security]
		"Information"=dword:00000000
		"Information Priority"=dword:00000026
		"Warning"=dword:00000001
		"Warning Priority"=dword:00000024
		"Error"=dword:00000001
		"Error Priority"=dword:00000023
		"Audit Success"=dword:00000000
		"Audit Success Priority"=dword:00000025
		"Audit Failure"=dword:00000001
		"Audit Failure Priority"=dword:00000021

		[HKEY_LOCAL_MACHINE\SOFTWARE\SaberNet\Syslog\System]
		"Information"=dword:00000000
		"Information Priority"=dword:0000001e
		"Warning"=dword:00000001
		"Warning Priority"=dword:0000001c
		"Error"=dword:00000001
		"Error Priority"=dword:0000001b
		"Audit Success"=dword:00000000
		"Audit Success Priority"=dword:0000001d
		"Audit Failure"=dword:00000001
		"Audit Failure Priority"=dword:00000019
	<End.reg file for NTsyslog>
	

